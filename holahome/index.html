<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Meta Tags -->
  <title>Hola Home - T√¨m Ph√≤ng Tr·ªç Sinh Vi√™n H√† N·ªôi | Nh√† Tr·ªç G·∫ßn Tr∆∞·ªùng ƒêH</title>
  <meta name="description" content="Hola Home - N·ªÅn t·∫£ng t√¨m ki·∫øm nh√† tr·ªç, ph√≤ng tr·ªç, k√Ω t√∫c x√° g·∫ßn tr∆∞·ªùng ƒë·∫°i h·ªçc t·∫°i H√† N·ªôi. Gi√° r·∫ª t·ª´ 500k/th√°ng, ti·ªán nghi ƒë·∫ßy ƒë·ªß, an to√†n, g·∫ßn tr∆∞·ªùng. Xem ph√≤ng mi·ªÖn ph√≠, h·ªó tr·ª£ 24/7.">
  <meta name="keywords" content="nh√† tr·ªç h√† n·ªôi, ph√≤ng tr·ªç sinh vi√™n, k√Ω t√∫c x√°, ktx, nh√† tr·ªç g·∫ßn tr∆∞·ªùng, thu√™ ph√≤ng tr·ªç, t√¨m ph√≤ng tr·ªç, ph√≤ng tr·ªç gi√° r·∫ª, nh√† tr·ªç b√°ch khoa, ph√≤ng tr·ªç ƒë·∫°i h·ªçc qu·ªëc gia">
  <meta name="author" content="Hola Home">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://holahome.com/">
  
  <!-- Open Graph (Facebook, LinkedIn) -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Hola Home - T√¨m Ph√≤ng Tr·ªç Sinh Vi√™n H√† N·ªôi">
  <meta property="og:description" content="T√¨m nh√† tr·ªç, ph√≤ng tr·ªç, k√Ω t√∫c x√° g·∫ßn tr∆∞·ªùng ƒë·∫°i h·ªçc. Gi√° t·ª´ 500k/th√°ng, an to√†n, ti·ªán nghi ƒë·∫ßy ƒë·ªß. H·ªó tr·ª£ xem ph√≤ng mi·ªÖn ph√≠ 24/7.">
  <meta property="og:image" content="https://holahome.com/logo/white HH logo v3.PNG">
  <meta property="og:url" content="https://holahome.com/">
  <meta property="og:site_name" content="Hola Home">
  <meta property="og:locale" content="vi_VN">
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Hola Home - T√¨m Ph√≤ng Tr·ªç Sinh Vi√™n H√† N·ªôi">
  <meta name="twitter:description" content="N·ªÅn t·∫£ng t√¨m ki·∫øm nh√† tr·ªç, ph√≤ng tr·ªç uy t√≠n t·∫°i H√† N·ªôi. Gi√° r·∫ª, g·∫ßn tr∆∞·ªùng, an to√†n.">
  <meta name="twitter:image" content="https://holahome.com/logo/white HH logo v3.PNG">
  
  <!-- Mobile Optimization -->
  <meta name="theme-color" content="#667eea">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="logo/logo_v2.PNG">
  <link rel="apple-touch-icon" href="logo/logo_v2.PNG">
  
  <!-- Preload Critical Assets -->
  <link rel="preload" href="style.css" as="style">
  <link rel="preload" href="images/4.jpg" as="image">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">
  
  <!-- Stylesheets -->
<<<<<<< HEAD:holahome/index.html
  <link rel="stylesheet" href="style.css?v=2.0">
=======
  <link rel="stylesheet" href="style.css?v=20251114">
>>>>>>> 5ca46fb09c5938af592e5d9fb581053597c8fb28:kn_project/index.html
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  
  <!-- Structured Data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "RealEstateAgent",
    "name": "Hola Home",
    "description": "N·ªÅn t·∫£ng t√¨m ki·∫øm nh√† tr·ªç, ph√≤ng tr·ªç, k√Ω t√∫c x√° g·∫ßn tr∆∞·ªùng ƒë·∫°i h·ªçc t·∫°i H√† N·ªôi",
    "url": "https://holahome.com",
    "logo": "https://holahome.com/logo/white HH logo v3.PNG",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "H√† N·ªôi",
      "addressCountry": "VN"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "telephone": "+84-XXX-XXX-XXX",
      "contactType": "Customer Service",
      "email": "holahome@gmail.com",
      "availableLanguage": "Vietnamese"
    },
    "sameAs": [
      "https://facebook.com/holahome",
      "https://zalo.me/holahome"
    ]
  }
  </script>
</head>

<body>
  <img src="images/4.jpg" class="bg-image" alt="Background Image" loading="lazy">
  <!-- Header -->
  <header>
    <div class="logo">
      <button class="hamburger" aria-label="Menu" aria-expanded="false" id="hamburger-btn">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <img src="logo/balck_logo.PNG" alt="Logo">
      <span>HOLA HOME</span>
    </div>
    <nav>
      <a href="#" class="nav-home">Trang ch·ªß</a>
      <a href="#" class="nav-about">Gi·ªõi thi·ªáu</a>
      <a href="#" class="nav-contact">Li√™n h·ªá</a>
    </nav>
    
    <div class="right-menu">
      <div class="favorites-container">
        <a href="#" class="fav-link" id="favorites-btn">
          M·ª•c y√™u th√≠ch
          <span class="favorites-count" style="display:none;">0</span>
        </a>
        <div class="favorites-dropdown" id="favorites-dropdown">
          <div class="favorites-header">
            <h3>M·ª•c y√™u th√≠ch</h3>
          </div>
          <div class="favorites-list" id="favorites-list">
            <div class="favorites-empty">
              <i class="fas fa-heart"></i>
              <p>Ch∆∞a c√≥ ph√≤ng tr·ªç y√™u th√≠ch</p>
            </div>
          </div>
        </div>
      </div>
      <p><a href="partner_login.html" id="partner-btn">Tr·ªü th√†nh ƒë·ªëi t√°c</a></p>
      <span class="vertical-divider"></span>
      <p><a href="#" id="login-btn-aa">ƒêƒÉng nh·∫≠p</a></p>
      <p><a href="#" id="register-btn-aa">ƒêƒÉng k√Ω</a></p>
      <!-- Profile icon (hidden by default, shown when logged in) -->
      <div class="profile-container" style="display:none;">
        <button class="profile-icon" id="profile-btn" aria-label="Profile">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
            <path d="M6 21c0-3.314 2.686-6 6-6s6 2.686 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <span class="profile-username selectable"></span>
      </div>
    </div>
  </header>

  <!-- Mobile Sidebar Menu -->
  <div class="mobile-sidebar-overlay" id="mobile-sidebar-overlay"></div>
  <div class="mobile-sidebar" id="mobile-sidebar">
    <div class="mobile-sidebar-header">
      <img src="logo/balck_logo.PNG" alt="Logo">
      <span>HOLA HOME</span>
      <button class="mobile-sidebar-close" id="mobile-sidebar-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <nav class="mobile-sidebar-nav">
      <a href="#" class="mobile-nav-item nav-home">
        <i class="fas fa-home"></i>
        <span>Trang ch·ªß</span>
      </a>
      <a href="#" class="mobile-nav-item nav-about">
        <i class="fas fa-info-circle"></i>
        <span>Gi·ªõi thi·ªáu</span>
      </a>
      <a href="#" class="mobile-nav-item nav-contact">
        <i class="fas fa-phone"></i>
        <span>Li√™n h·ªá</span>
      </a>
      <a href="#" class="mobile-nav-item" id="mobile-favorites-btn">
        <i class="fas fa-heart"></i>
        <span>M·ª•c y√™u th√≠ch</span>
      </a>
      <a href="partner_login.html" class="mobile-nav-item" id="mobile-partner-btn">
        <i class="fas fa-handshake"></i>
        <span>Tr·ªü th√†nh ƒë·ªëi t√°c</span>
      </a>
      <div class="mobile-nav-divider"></div>
      <a href="#" class="mobile-nav-item mobile-login-btn" id="mobile-login-btn">
        <i class="fas fa-sign-in-alt"></i>
        <span>ƒêƒÉng nh·∫≠p</span>
      </a>
      <a href="#" class="mobile-nav-item mobile-register-btn" id="mobile-register-btn">
        <i class="fas fa-user-plus"></i>
        <span>ƒêƒÉng k√Ω</span>
      </a>
      <!-- Profile section (hidden by default) -->
      <div class="mobile-profile-section" style="display:none;">
        <div class="mobile-nav-divider"></div>
        <a href="user.html" class="mobile-nav-item">
          <i class="fas fa-user"></i>
          <span>Th√¥ng tin t√†i kho·∫£n</span>
        </a>
        <!-- Dashboard for partner only -->
        <a href="partner_dashboard.html" class="mobile-nav-item partner-only" id="mobile-dashboard-btn" style="display:none;">
          <i class="fas fa-chart-line"></i>
          <span>B·∫£ng ƒëi·ªÅu khi·ªÉn</span>
        </a>
        <a href="#" class="mobile-nav-item" id="mobile-settings-btn">
          <i class="fas fa-cog"></i>
          <span>C√†i ƒë·∫∑t</span>
        </a>
        <a href="#" class="mobile-nav-item" id="mobile-logout-btn">
          <i class="fas fa-sign-out-alt"></i>
          <span>ƒêƒÉng xu·∫•t</span>
        </a>
      </div>
    </nav>
  </div>

  <!-- Backdrop for login/register popups -->
  <div id="auth-backdrop" class="auth-backdrop"></div>


  <!-- Profile Popup Menu -->
  <div id="profile-popup" class="profile-popup" style="display:none">
    <div class="profile-popup-content">
      <a href="user.html" class="profile-menu-item" id="user-info-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
          <path d="M6 21c0-3.314 2.686-6 6-6s6 2.686 6 6" stroke="currentColor" stroke-width="2"/>
        </svg>
        <span>Th√¥ng tin</span>
      </a>
      <!-- Dashboard menu item - only visible for partners -->
      <a href="partner_dashboard.html" class="profile-menu-item partner-only" id="dashboard-btn" style="display:none;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="3" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
          <rect x="14" y="3" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
          <rect x="3" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
          <rect x="14" y="14" width="7" height="7" rx="1" stroke="currentColor" stroke-width="2"/>
        </svg>
        <span>B·∫£ng ƒëi·ªÅu khi·ªÉn</span>
      </a>
      <a href="#" class="profile-menu-item" id="settings-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/>
          <path d="M12 1v6m0 6v6M23 12h-6m-6 0H1" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <span>C√†i ƒë·∫∑t t√†i kho·∫£n</span>
      </a>
      <a href="#" class="profile-menu-item" id="logout-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>ƒêƒÉng xu·∫•t</span>
      </a>
    </div>
  </div>

  <!-- Popup ƒëƒÉng nh·∫≠p -->
  <div id="login-popup" class="login-popup" style="display:none">
    <div class="login-popup-header">
      <h2 class="login-popup-title">ƒêƒÉng nh·∫≠p</h2>
      <span class="login-close">&times;</span>
    </div>
    <form class="login-form" autocomplete="off">
      <div class="form-group-login">
        <label>Email ho·∫∑c Username <span>*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-user input-icon"></i>
          <input type="text" id="login-username" placeholder="Nh·∫≠p email ho·∫∑c username" required>
        </div>
        <div class="login-msg" id="login-username-msg">Email is required</div>
      </div>
      
      <div class="form-group-login">
        <label>M·∫≠t kh·∫©u <span>*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <input type="password" id="login-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
          <i class="fas fa-eye toggle-password"></i>
        </div>
        <div class="login-msg" id="login-password-msg">Password is required</div>
      </div>
      
      <div class="login-row">
        <label class="remember-me">
          <input type="checkbox" id="login-remember">
          Ghi nh·ªõ ƒëƒÉng nh·∫≠p
        </label>
        <a href="#" class="login-forgot">Qu√™n m·∫≠t kh·∫©u?</a>
      </div>
      
      <button type="submit" class="login-btn-main">
        <i class="fas fa-sign-in-alt"></i>
        ƒêƒÉng nh·∫≠p
      </button>
      
      <div class="login-divider">
        <span>ho·∫∑c ƒëƒÉng nh·∫≠p v·ªõi</span>
      </div>
      
      <div class="login-socials">
        <button type="button" class="login-btn-google">
          <img src="logo/google.png" alt="G">
          <span>Google</span>
        </button>
        <button type="button" class="login-btn-facebook">
          <img src="logo/facebook.png" alt="F">
          <span>Facebook</span>
        </button>
        <button type="button" class="login-btn-vnu">
          <img src="logo/vnu.png" alt="V">
          <span>VNU</span>
        </button>
      </div>
    </form>
  </div>
  <!-- Popup ƒëƒÉng k√Ω user -->
  <div id="register-popup" class="login-popup" style="display:none">
    <div class="login-popup-header">
      <h2 class="login-popup-title">ƒêƒÉng k√Ω t√†i kho·∫£n</h2>
      <span class="login-close" id="register-close">&times;</span>
    </div>
    <form class="login-form" autocomplete="off">
      <div class="form-group-login">
        <label>Email <span>*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-envelope input-icon"></i>
          <input type="email" id="register-email" placeholder="Nh·∫≠p email c·ªßa b·∫°n" required>
        </div>
      </div>
      
      <div class="form-group-login">
        <label>Username</label>
        <div class="input-wrapper">
          <i class="fas fa-user input-icon"></i>
          <input type="text" id="register-username" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi d√πng">
        </div>
      </div>
      
      <div class="form-group-login">
        <label>M·∫≠t kh·∫©u <span>*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <input type="password" id="register-password" placeholder="Nh·∫≠p m·∫≠t kh·∫©u" required>
          <i class="fas fa-eye toggle-password"></i>
        </div>
      </div>
      
      <div class="form-group-login">
        <label>Nh·∫≠p l·∫°i m·∫≠t kh·∫©u <span>*</span></label>
        <div class="input-wrapper">
          <i class="fas fa-lock input-icon"></i>
          <input type="password" id="register-password2" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u" required>
          <i class="fas fa-eye toggle-password"></i>
        </div>
      </div>

      <div class="login-row" style="margin-bottom: 12px;">
        <label class="remember-me" style="font-size: 13px;">
          <input type="checkbox" id="register-accept">
          T√¥i ƒë·ªìng √Ω v·ªõi <a href="#" style="color: #667eea; text-decoration: none; font-weight: 600;">ƒëi·ªÅu kho·∫£n</a>
        </label>
      </div>
      
      <button type="submit" class="login-btn-main">
        <i class="fas fa-user-plus"></i>
        ƒêƒÉng k√Ω
      </button>
      
      <div class="login-divider">
        <span>ho·∫∑c ƒëƒÉng k√Ω v·ªõi</span>
      </div>
      
      <div class="login-socials">
        <button type="button" class="login-btn-google">
          <img src="logo/google.png" alt="G">
          <span>Google</span>
        </button>
        <button type="button" class="login-btn-facebook">
          <img src="logo/facebook.png" alt="F">
          <span>Facebook</span>
        </button>
        <button type="button" class="login-btn-vnu">
          <img src="logo/vnu.png" alt="V">
          <span>VNU</span>
        </button>
      </div>
    </form>
  </div>

  <!-- Partner popup removed - now using direct link to partner_dashboard.html -->

  <!-- N·ªôi dung ch√≠nh -->
  <main>
    <!-- <h1><img src="house-64.png" class="house_icon">HOLA HOME</h1> -->
    <div class="move-on-scroll">
      <h1><img src="logo/logo_v2.PNG" class="house_icon"></h1>
      <h2 class="main_title">HOLA HOME</h2>
    </div>
    <div class="search-box snap-target">
      <!-- Lo·∫°i h√¨nh -->
      <select id="filter-type">
        <option disabled selected>Lo·∫°i h√¨nh</option>
        <option>T·∫•t c·∫£</option>
        <option>Nh√† tr·ªç</option>
        <option>K√Ω t√∫c x√°</option>
      </select>

      <!-- Khu v·ª±c -->
      <select id="filter-area">
        <option disabled selected>Khu v·ª±c</option>
        <option>T·∫•t c·∫£</option>
        <option>Th·∫°ch Ho√†</option>
        <option>X√£ Ti·∫øn Xu√¢n</option>
        <option>X√£ B√¨nh Y√™n</option>
        <option>X√£ H·∫° B·∫±ng</option>
        <option>X√£ T√¢n X√£</option>
      </select>

      <!-- √î t√¨m ki·∫øm -->
      <div class="search-input-wrapper">
        <input type="text" id="search-input" placeholder="T√¨m theo ti√™u ƒë·ªÅ, ƒë·ªãa ch·ªâ...">
        <div id="search-history-dropdown" class="search-history-dropdown"></div>
      </div>

      <!-- S·∫Øp x·∫øp -->
      <select id="sapXepGia">
        <option disabled selected>S·∫Øp x·∫øp</option>
        <option>M·∫∑c ƒë·ªãnh</option>
        <option>Gi√° tƒÉng d·∫ßn</option>
        <option>Gi√° gi·∫£m d·∫ßn</option>
        <option>L∆∞·ª£t xem nhi·ªÅu nh·∫•t</option>
        <option>Y√™u th√≠ch nhi·ªÅu nh·∫•t</option>
        <option>ƒê√°nh gi√° cao nh·∫•t</option>
      </select>

      <!-- N√∫t b·∫•m -->
      <button class="btn-search">T√¨m</button>
      <button class="btn-clear">X√≥a</button>
    </div>

    <!-- Auto-scrolling Property Slider -->
    <div class="property-slider-container">
      <div class="property-slider" id="property-slider">
        <!-- Property cards will be loaded here -->
      </div>
    </div>

    <div class="content-container">
      <div class="left-banner">
        <div class="banner-content">
          <button class="ad-close-btn" id="leftBannerClose" aria-label="ƒê√≥ng">√ó</button>
          <a href="https://partner.example.com/?utm_source=holahome" target="_blank" rel="noopener noreferrer" id="leftBannerLink">
            <img src="demo_ad_ba/vertical/ggad_1.webp" alt="Qu·∫£ng c√°o" loading="lazy" id="leftBannerImg">
          </a>
        </div>
      </div>

      <!-- Placeholder row 1 -->
      <div class="grid-placeholder placeholder-1"></div>

      <div class="ct properties-grid">
        <!-- Properties will be loaded dynamically from backend -->
      </div>

      <!-- Placeholder row 3 -->
      <div class="grid-placeholder placeholder-3"></div>

      <!-- Horizontal Banner Content -->
      <div class="horizontal-banner-content">
        <button class="ad-close-btn" id="horizontalBannerClose" aria-label="ƒê√≥ng">√ó</button>
        <a href="https://partner.example.com/?utm_source=holahome" target="_blank" rel="noopener noreferrer" id="horizontalBannerLink">
          <img src="demo_ad_ba/horizontal/cofe1.jpg" alt="Qu·∫£ng c√°o" loading="lazy" id="horizontalBannerImg">
        </a>
      </div>

      <!-- Placeholder row 5 -->
      <div class="grid-placeholder placeholder-5"></div>

      <div class="right-banner">
        <div class="banner-content">
          <button class="ad-close-btn" id="rightBannerClose" aria-label="ƒê√≥ng">√ó</button>
          <a href="https://partner.example.com/?utm_source=holahome" target="_blank" rel="noopener noreferrer" id="rightBannerLink">
            <img src="demo_ad_ba/vertical/ggad_1.webp" alt="Qu·∫£ng c√°o" loading="lazy" id="rightBannerImg">
          </a>
        </div>
      </div>
    </div>

    <!-- Horizontal Banner Container removed - moved to grid -->

    <!-- display the most star -->
    <div id="most-star-section">
      <nav class="most-star-nav">
        <button class="nav-item active" data-sort="favorites">Y√™u th√≠ch nh·∫•t</button>
        <button class="nav-item" data-sort="rating">ƒê√°nh gi√° cao nh·∫•t</button>
        <button class="nav-item" data-sort="views">Nhi·ªÅu l∆∞·ª£t xem nh·∫•t</button>
      </nav>
      <div id="most-star-properties" class="properties-grid">
        <!-- Properties will be loaded here -->
      </div>
      <button class="most-star-nav-arrows left" id="mostStarLeftArrow">
        <i class="fas fa-chevron-left"></i>
      </button>
      <button class="most-star-nav-arrows right" id="mostStarRightArrow">
        <i class="fas fa-chevron-right"></i>
      </button>
    </div>
  </main>
  <!-- Modal -->
  <div id="propertyModal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div class="modal-body">
        <div class="modal-image-container">
          <img id="modal-img" src="" alt="">
          <button class="image-nav-btn prev-btn" id="prev-image-btn">
            <i class="fas fa-chevron-left"></i>
          </button>
          <button class="image-nav-btn next-btn" id="next-image-btn">
            <i class="fas fa-chevron-right"></i>
          </button>
          <div class="image-counter" id="image-counter">1 / 1</div>
        </div>
        <div class="modal-thumbnails" id="modal-thumbnails"></div>
        <div class="modal-title-row">
          <h3 id="modal-title" class="selectable"></h3>
          <button class="booking-btn" id="booking-btn" title="ƒê·∫∑t l·ªãch h·∫πn xem ph√≤ng" style="display: none;">
            <i class="fas fa-calendar-check"></i>
            <span>ƒê·∫∑t l·ªãch h·∫πn</span>
          </button>
          <button class="map-location-btn" id="map-location-btn" title="Xem tr√™n b·∫£n ƒë·ªì">
            <i class="fas fa-map-marker-alt"></i>
            <span>B·∫£n ƒë·ªì</span>
          </button>
          <button class="favorite-heart-btn" title="L∆∞u y√™u th√≠ch">
            <i class="fas fa-heart favorite-heart"></i>
          </button>
        </div>
        <p id="modal-address" class="selectable"></p>
        <p id="modal-price" class="selectable"></p>
        <p id="modal-area" class="selectable"></p>
        <p id="modal-description" class="selectable"></p>

        <hr style="margin: 16px 0;">
        <div class="modal-rating-comment">
          <div class="modal-rating">
            <span class="stars"></span>
          </div>
          <div class="modal-comment selectable">
            <textarea id="modal-comment-input"
              placeholder="ƒê√°nh gi√° c·ªßa b·∫°n v·ªÅ ph√≤ng tr·ªç/k√Ω t√∫c x√° (Ch·ªâ √°p d·ª•ng cho ng∆∞·ªùi ƒë√£ ·ªü)" rows="2"></textarea>
            <button id="modal-comment-submit" class="button-trapezoid btn-search">G·ª≠i</button>
            <div class="modal-rating-label">
              <span class="modal-rating-stars"></span>
              <span class="modal-rating-text"></span>
            </div>
          </div>
          <div id="modal-comment-list"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Favorites Modal -->
  <div id="favoritesModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeFavoritesModal">&times;</span>
      <h2>M·ª•c y√™u th√≠ch</h2>
      <div id="favoritesList" class="favorites-list">
        <!-- Favorite items will be injected here -->
      </div>
    </div>
  </div>

  <!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chatbox Demo</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- N√∫t m·ªü chat -->
  <button id="chatButton">
    <img src="logo/chatbox.jpg" alt="Chat" id="chatButtonImg" loading="lazy">
  </button>

  <!-- Khung chat -->
  <div id="chatBox" class="selectable">
    <div class="chatHeader">
      HomieAI - H·ªó tr·ª£
      <button id="closeChat">√ó</button>
    </div>
    <div class="chatBody">
      <div class="chatMessage botMessage">
        <div style="margin-bottom: 8px;">
          <strong>üëã Xin ch√†o!</strong><br>
          M√¨nh l√† <strong>HomieAI</strong>, tr·ª£ l√Ω ·∫£o c·ªßa HolaHome.
        </div>
        <div style="margin-bottom: 8px;">
          <strong>T√¥i c√≥ th·ªÉ gi√∫p b·∫°n:</strong>
        </div>
        <div style="line-height: 1.8;">
          üè† T√¨m ph√≤ng tr·ªç ph√π h·ª£p<br>
          üí∞ T∆∞ v·∫•n v·ªÅ gi√° c·∫£<br>
          üìç Th√¥ng tin v·ªã tr√≠, ti·ªán √≠ch<br>
          ‚ùì Gi·∫£i ƒë√°p c√°c th·∫Øc m·∫Øc
        </div>
        <div style="margin-top: 8px; font-style: italic;">
          B·∫°n c·∫ßn h·ªó tr·ª£ g√¨ nh√©? üòä
        </div>
      </div>
    </div>
    
    <!-- FAQ Suggestions Box -->
    <div class="faqSuggestions" id="faqSuggestions">
      <div class="faqTitle">
        <span>üí° C√¢u h·ªèi th∆∞·ªùng g·∫∑p:</span>
        <button class="faqToggle" id="faqToggleBtn" aria-label="Toggle FAQ">
          <i class="fas fa-chevron-down"></i>
        </button>
      </div>
      <div class="faqItems" id="faqItems">
        <!-- FAQ items will be loaded dynamically -->
      </div>
    </div>
    
    <div class="chatInput">
      <input type="text" id="chatInputField" placeholder="Nh·∫≠p tin nh·∫Øn...">
      <button id="chatSendBtn">G·ª≠i</button>
    </div>
  </div>

  <!-- About Modal -->
  <div id="about-modal" class="info-modal">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h3><i class="fas fa-info-circle"></i> Gi·ªõi thi·ªáu v·ªÅ HOLA HOME</h3>
        <button class="info-modal-close" onclick="closeAboutModal()">&times;</button>
      </div>
      <div class="info-modal-body selectable">
        <div class="about-content">
          <div class="about-section">
            <h4><i class="fas fa-building"></i> V·ªÅ ch√∫ng t√¥i</h4>
            <p>HOLA HOME l√† n·ªÅn t·∫£ng t√¨m ki·∫øm v√† qu·∫£n l√Ω ph√≤ng tr·ªç, k√Ω t√∫c x√° h√†ng ƒë·∫ßu t·∫°i Vi·ªát Nam. Ch√∫ng t√¥i k·∫øt n·ªëi ng∆∞·ªùi t√¨m nh√† v·ªõi c√°c ch·ªß nh√† uy t√≠n, mang ƒë·∫øn tr·∫£i nghi·ªám thu√™ tr·ªç an to√†n, ti·ªán l·ª£i v√† minh b·∫°ch.</p>
          </div>
          
          <div class="about-section">
            <h4><i class="fas fa-bullseye"></i> S·ª© m·ªánh</h4>
            <p>Gi√∫p m·ªçi ng∆∞·ªùi d·ªÖ d√†ng t√¨m ƒë∆∞·ª£c n∆°i ·ªü ph√π h·ª£p v·ªõi nhu c·∫ßu v√† ng√¢n s√°ch, ƒë·ªìng th·ªùi h·ªó tr·ª£ ch·ªß nh√† qu·∫£n l√Ω v√† cho thu√™ ph√≤ng tr·ªç hi·ªáu qu·∫£ h∆°n.</p>
          </div>
          
          <div class="about-section">
            <h4><i class="fas fa-star"></i> T√≠nh nƒÉng n·ªïi b·∫≠t</h4>
            <ul class="about-features">
              <li><i class="fas fa-check-circle"></i> H√†ng ng√†n ph√≤ng tr·ªç, k√Ω t√∫c x√° ƒëa d·∫°ng</li>
              <li><i class="fas fa-check-circle"></i> T√¨m ki·∫øm th√¥ng minh v·ªõi b·ªô l·ªçc chi ti·∫øt</li>
              <li><i class="fas fa-check-circle"></i> ƒê√°nh gi√° v√† b√¨nh lu·∫≠n t·ª´ ng∆∞·ªùi d√πng th·ª±c</li>
              <li><i class="fas fa-check-circle"></i> ƒê·∫∑t l·ªãch h·∫πn xem ph√≤ng tr·ª±c tuy·∫øn</li>
              <li><i class="fas fa-check-circle"></i> L∆∞u y√™u th√≠ch v√† so s√°nh ph√≤ng tr·ªç</li>
              <li><i class="fas fa-check-circle"></i> H·ªó tr·ª£ chatbot AI 24/7</li>
            </ul>
          </div>
          
          <div class="about-section">
            <h4><i class="fas fa-users"></i> ƒê·ªôi ng≈© ph√°t tri·ªÉn</h4>
            <p>ƒê∆∞·ª£c x√¢y d·ª±ng b·ªüi ƒë·ªôi ng≈© sinh vi√™n ƒëam m√™ c√¥ng ngh·ªá, cam k·∫øt mang ƒë·∫øn gi·∫£i ph√°p t·ªëi ∆∞u cho c·ªông ƒë·ªìng sinh vi√™n v√† ng∆∞·ªùi lao ƒë·ªông.</p>
          </div>
          
          <div class="about-stats">
            <div class="stat-item">
              <i class="fas fa-home"></i>
              <div class="stat-number">1000+</div>
              <div class="stat-label">Ph√≤ng tr·ªç</div>
            </div>
            <div class="stat-item">
              <i class="fas fa-users"></i>
              <div class="stat-number" id="about-users">360K+</div>
              <div class="stat-label">Ng∆∞·ªùi d√πng</div>
            </div>
            <div class="stat-item">
              <i class="fas fa-handshake"></i>
              <div class="stat-number">500+</div>
              <div class="stat-label">ƒê·ªëi t√°c</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Search History Modal -->
  <div id="search-history-modal" class="info-modal">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h2><i class="fas fa-clock-rotate-left"></i> L·ªãch s·ª≠ t√¨m ki·∫øm</h2>
        <button class="info-modal-close" onclick="closeSearchHistoryModal()">&times;</button>
      </div>
      <div class="info-modal-body">
        <div id="history-modal-list" class="history-modal-list"></div>
      </div>
    </div>
  </div>

  <!-- Contact Modal -->
  <div id="contact-modal" class="info-modal">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h3><i class="fas fa-phone"></i> Li√™n h·ªá v·ªõi ch√∫ng t√¥i</h3>
        <button class="info-modal-close" onclick="closeContactModal()">&times;</button>
      </div>
      <div class="info-modal-body selectable">
        <div class="contact-info">
          <div class="contact-item">
            <i class="fas fa-map-marker-alt"></i>
            <div class="contact-item-content">
              <div class="contact-item-label">ƒê·ªãa ch·ªâ</div>
              <p class="contact-item-text">S·ªë  ƒë∆∞·ªùng  - -  - Th·∫°ch Th·∫•t - H√† N·ªôi</p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-phone-alt"></i>
            <div class="contact-item-content">
              <div class="contact-item-label">ƒêi·ªán tho·∫°i</div>
              <p class="contact-item-text"><a href="tel:01268888206" style="color: #667eea; text-decoration: none;">0126 888 8206</a></p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope"></i>
            <div class="contact-item-content">
              <div class="contact-item-label">Email</div>
              <p class="contact-item-text"><a href="mailto:holahome@gmail.com" style="color: #667eea; text-decoration: none;">holahome@gmail.com</a></p>
            </div>
          </div>
          <div class="contact-item">
            <i class="fas fa-clock"></i>
            <div class="contact-item-content">
              <div class="contact-item-label">Gi·ªù l√†m vi·ªác</div>
              <p class="contact-item-text">Th·ª© 2 - Ch·ªß nh·∫≠t: 8:00 - 20:00</p>
            </div>
          </div>
        </div>
        <div class="social-links">
          <a href="https://facebook.com" target="_blank" class="social-link" title="Facebook">
            <i class="fab fa-facebook-f"></i>
          </a>
          <a href="https://zalo.me" target="_blank" class="social-link" title="Zalo">
            <i class="fas fa-comment-dots"></i>
          </a>
          <a href="https://m.me" target="_blank" class="social-link" title="Messenger">
            <i class="fab fa-facebook-messenger"></i>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Booking Appointment Modal -->
  <div id="booking-modal" class="info-modal">
    <div class="info-modal-content booking-modal-content">
      <div class="info-modal-header">
        <h3><i class="fas fa-calendar-check"></i> ƒê·∫∑t l·ªãch h·∫πn xem ph√≤ng</h3>
        <button class="info-modal-close" onclick="closeBookingModal()">&times;</button>
      </div>
      <div class="info-modal-body">
        <form id="booking-form">
          <div class="booking-property-info" id="booking-property-info">
            <img src="" alt="" id="booking-property-img">
            <div>
              <div class="booking-property-title" id="booking-property-title"></div>
              <div class="booking-property-price" id="booking-property-price"></div>
            </div>
          </div>
          
          <div class="form-group">
            <label for="booking-name">
              <i class="fas fa-user"></i> H·ªç v√† t√™n *
            </label>
            <input type="text" id="booking-name" name="name" required placeholder="Nh·∫≠p h·ªç v√† t√™n c·ªßa b·∫°n">
          </div>
          
          <div class="form-group">
            <label for="booking-phone">
              <i class="fas fa-phone"></i> S·ªë ƒëi·ªán tho·∫°i *
            </label>
            <input type="tel" id="booking-phone" name="phone" required placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i">
          </div>
          
          <div class="form-group">
            <label for="booking-cccd">
              <i class="fas fa-id-card"></i> S·ªë CCCD *
            </label>
            <input type="text" id="booking-cccd" name="cccd" required pattern="[0-9]{12}" maxlength="12" placeholder="Nh·∫≠p 12 s·ªë CCCD">
            <small class="form-hint">Nh·∫≠p ƒë·∫ßy ƒë·ªß 12 s·ªë ƒë·ªÉ x√°c th·ª±c danh t√≠nh</small>
          </div>
          
          <div class="form-group">
            <label for="booking-email">
              <i class="fas fa-envelope"></i> Email
            </label>
            <input type="email" id="booking-email" name="email" readonly placeholder="Email c·ªßa b·∫°n">
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="booking-date">
                <i class="fas fa-calendar"></i> Ng√†y h·∫πn *
              </label>
              <input type="date" id="booking-date" name="date" required>
            </div>
            
            <div class="form-group">
              <label for="booking-time">
                <i class="fas fa-clock"></i> Gi·ªù h·∫πn *
              </label>
              <input type="time" id="booking-time" name="time" required>
            </div>
          </div>
          
          <div class="form-group">
            <label for="booking-note">
              <i class="fas fa-comment"></i> Ghi ch√∫
            </label>
            <textarea id="booking-note" name="note" rows="3" placeholder="Ghi ch√∫ th√™m (n·∫øu c√≥)"></textarea>
          </div>
          
          <button type="submit" class="booking-submit-btn">
            <i class="fas fa-paper-plane"></i>
            G·ª≠i y√™u c·∫ßu ƒë·∫∑t l·ªãch
          </button>
        </form>
      </div>
    </div>
  </div>

  <script src="chatbot.js"></script>

</body>
</html>

<!-- Ads script: random vertical banners and close handlers -->
<script>
  (function(){
    const verticalAds = [
      'demo_ad_ba/vertical/ggad_1.webp',
      'demo_ad_ba/vertical/2.jpg'
    ];

    const horizontalAds = [
      'demo_ad_ba/horizontal/cofe1.jpg',
      'demo_ad_ba/horizontal/ggad_2.webp'
    ];

    function pickRandom(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

    document.addEventListener('DOMContentLoaded', function(){
      // Elements
      const left = document.getElementById('sideAdLeft');
      const right = document.getElementById('sideAdRight');
      const mobileContainer = document.getElementById('mobileAdContainer');
      const leftImg = document.getElementById('sideAdLeftImg');
      const rightImg = document.getElementById('sideAdRightImg');
      const mobileImg = document.getElementById('mobileAdImg');

      // New banner elements in content-container
      const leftBannerImg = document.getElementById('leftBannerImg');
      const rightBannerImg = document.getElementById('rightBannerImg');
      const leftBannerClose = document.getElementById('leftBannerClose');
      const rightBannerClose = document.getElementById('rightBannerClose');

      // Function to update banner images
      function updateBannerImages(){
        try{
          const srcLeft = pickRandom(verticalAds);
          const srcRight = pickRandom(verticalAds);
          const srcMobile = pickRandom(verticalAds);
          if(leftImg) leftImg.src = srcLeft;
          if(rightImg) rightImg.src = srcRight;
          if(mobileImg) mobileImg.src = srcMobile;

          // Use horizontal ads for mobile banners, vertical for desktop
          const isMobile = window.innerWidth <= 768;
          const bannerAds = isMobile ? horizontalAds : verticalAds;
          console.log('Window width:', window.innerWidth, 'isMobile:', isMobile, 'bannerAds:', bannerAds);
          if(leftBannerImg) leftBannerImg.src = pickRandom(bannerAds);
          if(rightBannerImg) rightBannerImg.src = pickRandom(bannerAds);
        }catch(e){ console.error('Ad script error', e); }
      }

      // If items closed in this session, hide
      if(sessionStorage.getItem('holahome_side_left_closed') === '1' && left) left.style.display = 'none';
      if(sessionStorage.getItem('holahome_side_right_closed') === '1' && right) right.style.display = 'none';
      if(sessionStorage.getItem('holahome_mobile_ad_closed') === '1' && mobileContainer) mobileContainer.style.display = 'none';

      // Set initial random ad creative
      updateBannerImages();

      // Auto-rotate banner images every 5 seconds
      setInterval(updateBannerImages, 5000);

      // Update banner images on window resize
      window.addEventListener('resize', function() {
        updateBannerImages();
      });

      // Close handlers
      const closeLeft = document.getElementById('sideAdLeftClose');
      const closeRight = document.getElementById('sideAdRightClose');
      const closeMobile = document.getElementById('mobileAdClose');

      if(closeLeft && left) closeLeft.addEventListener('click', function(e){ e.stopPropagation(); left.style.display='none'; sessionStorage.setItem('holahome_side_left_closed','1'); });
      if(closeRight && right) closeRight.addEventListener('click', function(e){ e.stopPropagation(); right.style.display='none'; sessionStorage.setItem('holahome_side_right_closed','1'); });
      if(closeMobile && mobileContainer) closeMobile.addEventListener('click', function(e){ e.stopPropagation(); mobileContainer.style.display='none'; sessionStorage.setItem('holahome_mobile_ad_closed','1'); });

      // New banner close handlers
      if(leftBannerClose) leftBannerClose.addEventListener('click', function(e){ e.stopPropagation(); const banner = leftBannerImg.closest('.left-banner'); if(banner) banner.style.visibility='hidden'; });
      if(rightBannerClose) rightBannerClose.addEventListener('click', function(e){ e.stopPropagation(); const banner = rightBannerImg.closest('.right-banner'); if(banner) banner.style.visibility='hidden'; });

      // Track clicks (non-blocking)
      ['sideAdLeftLink','sideAdRightLink','mobileAdLink','leftBannerLink','rightBannerLink'].forEach(id => {
        const el = document.getElementById(id);
        if(el){ el.addEventListener('click', function(){
          try{ navigator.sendBeacon && navigator.sendBeacon('/api/track-click', JSON.stringify({ ad:id, ts:Date.now() })); }
          catch(err){ fetch('/api/track-click', {method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify({ ad:id, ts:Date.now() }) }).catch(()=>{}); }
        }); }
      });
    });
  })();
</script>


   <!-- Footer Section -->
    <footer class="younghouse-footer">
        <div class="footer-container selectable">
            <!-- Logo v√† Slogan -->
            <div class="footer-brand">
                <h2 class="brand-name">HOLA HOME</h2>
                <p class="slogan">H∆°n c·∫£ m√°i nh√† - ƒê√≥ l√† m√°i ·∫•m</p>
                <p class="brand-description">
                    Khi nh√† tr·ªç c≈©ng l√† nh√†, HOLA HOME tin r·∫±ng m·ªôt kh√¥ng gian ti·ªán nghi, l·ªëi s·ªëng hi·ªán ƒë·∫°i l√† n·ªÅn m√≥ng ƒë·ªÉ c∆∞ d√¢n tr·∫ª c√≥ th·ªÉ t·ª± do s·ªëng t√≠ch c·ª±c v√† th√†nh c√¥ng trong cu·ªôc s·ªëng.
                </p>
            </div>

            <!-- Li√™n k·∫øt nhanh -->
            <div class="footer-links">
                <div class="links-column">
                    <h3>Li√™n k·∫øt nhanh</h3>
                    <div class="links-grid">
                        <div class="link-group">
                            <a href="#" class="footer-link">Trang ch·ªß</a>
                            <a href="#" class="footer-link">H·ªá th·ªëng nh√† tr·ªç</a>
                            <a href="#" class="footer-link">V·ªÅ HOLA HOME</a>
                            <a href="#" class="footer-link">Li√™n h·ªá</a>
                        </div>
                        <div class="link-group">
                            <a href="#" class="footer-link">Cho thu√™ ph√≤ng tr·ªç</a>
                            <a href="#" class="footer-link">T√¨m ki·∫øm ph√≤ng tr·ªç</a>
                            <div class="contact-info">
                                <p>H·ªó tr·ª£ k·ªπ thu·∫≠t: <strong>XXXXXXXXX</strong></p>
                                <p>T∆∞ v·∫•n h·ª£p ƒë·ªìng: <strong>XXXXXXXXX</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Th√¥ng tin li√™n h·ªá -->
            <div class="footer-contact">
                <h3>Th√¥ng tin li√™n h·ªá</h3>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>S·ªë  ƒë∆∞·ªùng  - -  - Th·∫°ch Th·∫•t - H√† N·ªôi</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone-alt"></i>
                    <span>0126 888 8206</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>holahome@gmail.com</span>
                </div>
            </div>

            <!-- ƒêƒÉng k√Ω nh·∫≠n tin -->
            <div class="footer-newsletter">
                <h3>ƒêƒÉng k√Ω nh·∫≠n tin</h3>
                <div class="newsletter-form">
                    <input type="email" placeholder="Email c·ªßa b·∫°n" class="email-input">
                    <button class="subscribe-btn">ƒêƒÉng k√Ω</button>
                </div>
            </div>
        </div>

        <!-- Bottom Footer -->
        <div class="footer-bottom">
            <div class="footer-bottom-content">
                <div class="copyright">
                    ¬© 2025 HOLA HOME. Designed by Minh Son & Duy Phat.
                </div>
                <div class="bottom-links">
                    <a href="#" class="bottom-link">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                    <a href="#" class="bottom-link">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a>
                    <a href="#" class="bottom-link">Sitemap</a>
                    <span class="visitor-stats">
                        <i class="fas fa-users"></i> <span id="online-count">0</span> ƒëang online | 
                        <i class="fas fa-eye"></i> <span id="total-visits">0</span> l∆∞·ª£t truy c·∫≠p
                    </span>
                </div>
            </div>
        </div>
    </footer>
  
<<<<<<< HEAD:holahome/index.html
  <script src="script_backend.js?v=2.0"></script>
  <script src="chatbot.js?v=2.0"></script>
  <script>
    // Ensure partner buttons redirect to partner_login.html
    document.addEventListener('DOMContentLoaded', function() {
      const partnerBtn = document.getElementById('partner-btn');
      const mobilePartnerBtn = document.getElementById('mobile-partner-btn');
      const dashboardBtn = document.getElementById('dashboard-btn');
      const mobileDashboardBtn = document.getElementById('mobile-dashboard-btn');
      
      // Partner login buttons - redirect to partner_login.html (same tab)
      if (partnerBtn) {
        partnerBtn.setAttribute('href', 'partner_login.html');
        partnerBtn.removeAttribute('target');
      }
      
      if (mobilePartnerBtn) {
        mobilePartnerBtn.setAttribute('href', 'partner_login.html');
        mobilePartnerBtn.removeAttribute('target');
      }
      
      // Dashboard buttons - open in same tab (not new tab)
      if (dashboardBtn) {
        dashboardBtn.removeAttribute('target');
      }
      
      if (mobileDashboardBtn) {
        mobileDashboardBtn.removeAttribute('target');
      }
    });
  </script>

  <!-- Modal Th√¥ng B√°o Tin M·ªõi -->
  <div id="newPostModal" class="new-post-modal">
    <div class="new-post-modal-content">
      <button class="new-post-close" onclick="closeNewPostModal()">
        <i class="fas fa-times"></i>
      </button>
      <div class="new-post-badge">
        <i class="fas fa-star"></i>
        <span>TIN M·ªöI</span>
      </div>
      <div class="new-post-image">
        <img id="newPostImage" src="" alt="·∫¢nh ph√≤ng tr·ªç">
      </div>
      <div class="new-post-info">
        <h3 id="newPostTitle"></h3>
        <div class="new-post-price" id="newPostPrice"></div>
        <div class="new-post-location">
          <i class="fas fa-map-marker-alt"></i>
          <span id="newPostAddress"></span>
        </div>
        <button class="new-post-view-btn" onclick="viewNewPostDetails()">
          <i class="fas fa-eye"></i>
          Xem chi ti·∫øt
        </button>
      </div>
    </div>
  </div>

  <style>
    .new-post-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 10000;
      animation: fadeIn 0.3s ease;
    }

    .new-post-modal.show {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from {
        transform: translateY(50px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .new-post-modal-content {
      background: white;
      border-radius: 20px;
      max-width: 450px;
      width: 90%;
      position: relative;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideUp 0.4s ease;
    }

    .new-post-close {
      position: absolute;
      top: 15px;
      right: 15px;
      width: 35px;
      height: 35px;
      border: none;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      transition: all 0.3s;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    .new-post-close:hover {
      background: white;
      transform: rotate(90deg);
    }

    .new-post-close i {
      font-size: 18px;
      color: #333;
    }

    .new-post-badge {
      position: absolute;
      top: 15px;
      left: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 8px 15px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 13px;
      z-index: 10;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .new-post-badge i {
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .new-post-image {
      width: 100%;
      height: 250px;
      overflow: hidden;
      background: #f0f0f0;
    }

    .new-post-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .new-post-info {
      padding: 25px;
    }

    .new-post-info h3 {
      font-size: 22px;
      font-weight: 700;
      color: #2d3748;
      margin: 0 0 15px 0;
      line-height: 1.4;
    }

    .new-post-price {
      font-size: 26px;
      font-weight: 800;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 15px;
    }

    .new-post-location {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #718096;
      font-size: 15px;
      margin-bottom: 20px;
    }

    .new-post-location i {
      color: #667eea;
      font-size: 16px;
    }

    .new-post-view-btn {
      width: 100%;
      padding: 15px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      transition: all 0.3s;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    }

    .new-post-view-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
    }

    @media (max-width: 768px) {
      .new-post-modal-content {
        max-width: 95%;
        margin: 20px;
      }

      .new-post-image {
        height: 200px;
      }

      .new-post-info {
        padding: 20px;
      }

      .new-post-info h3 {
        font-size: 19px;
      }

      .new-post-price {
        font-size: 23px;
      }
    }
  </style>
=======
  <script src="script_backend.js?v=20251114"></script>
  <script src="chatbot.js?v=20251114"></script>
  
  <!-- Unregister any existing Service Workers -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function(registrations) {
        for(let registration of registrations) {
          registration.unregister();
          console.log('üóëÔ∏è Service Worker unregistered');
        }
      });
    }
  </script>
>>>>>>> 5ca46fb09c5938af592e5d9fb581053597c8fb28:kn_project/index.html
</body>
</html>
<!-- Most Star Section Script -->
<script>
(function(){
  const navItems = document.querySelectorAll('.nav-item');
  const propertiesContainer = document.getElementById('most-star-properties');
  const leftArrow = document.getElementById('mostStarLeftArrow');
  const rightArrow = document.getElementById('mostStarRightArrow');
  
  let mostStarData = [];
  
  // Load data from data.json, favorites.json, and ratings.json
  Promise.all([
    fetch('data.json').then(res => res.json()),
    fetch('backend/favorites.json').then(res => res.json()),
    fetch('backend/ratings.json').then(res => res.json())
  ])
  .then(([propertiesData, favoritesData, ratingsData]) => {
    // Process favorites data - count how many users favorited each property
    const favoritesCount = {};
    Object.values(favoritesData).forEach(userFavorites => {
      userFavorites.forEach(propertyId => {
        favoritesCount[propertyId] = (favoritesCount[propertyId] || 0) + 1;
      });
    });
    
    // Process ratings data - calculate average rating for each property
    const ratingsAvg = {};
    Object.entries(ratingsData).forEach(([propertyId, ratings]) => {
      if (ratings.length > 0) {
        const sum = ratings.reduce((acc, rating) => acc + rating.rating, 0);
        ratingsAvg[propertyId] = sum / ratings.length;
      }
    });
    
    // Merge favorites and ratings into properties data
    mostStarData = propertiesData.map(property => ({
      ...property,
      favorites: favoritesCount[property.id] || 0,
      rating: ratingsAvg[property.id] || 0
    }));
    
    renderProperties('favorites'); // Default sort by favorites
    updateArrowStates();
  })
  .catch(error => {
    console.error('Error loading data:', error);
    // Fallback to sample data
    mostStarData = [
      {
        id: 1,
        title: "Ph√≤ng tr·ªç sinh vi√™n g·∫ßn ƒê·∫°i h·ªçc Qu·ªëc gia",
        address: "Th·∫°ch Ho√†, Qu·ªëc Oai, H√† N·ªôi",
        price: "2.500.000 VND/th√°ng",
        area: 25,
        img: ["images/test_des.txt"],
        views: 1200,
        rating: 4.8,
        favorites: 150
      }
    ];
    renderProperties('favorites');
    updateArrowStates();
  });
  
  function renderProperties(sortBy = 'favorites') {
    // Sort properties based on criteria
    let sortedProperties = [...mostStarData];
    
    switch(sortBy) {
      case 'favorites':
        sortedProperties.sort((a, b) => (b.favorites || 0) - (a.favorites || 0));
        break;
      case 'rating':
        sortedProperties.sort((a, b) => (b.rating || 0) - (a.rating || 0));
        break;
      case 'views':
        sortedProperties.sort((a, b) => (b.views || 0) - (a.views || 0));
        break;
    }
    
    // Take top 12 properties
    sortedProperties = sortedProperties.slice(0, 12);
    
    // Render HTML similar to .ct properties
    const html = sortedProperties.map(property => {
      const mainImg = Array.isArray(property.img) ? property.img[0] : property.img;
      const rating = property.rating || 0;
      const views = property.views || 0;
      const favorites = property.favorites || 0;
      const cleanAddress = (property.address || '').replace(/<[^>]*>/g, '').replace(/ƒê·ªãa ch·ªâ:\s*/i, '').trim();
      
      return `
        <div class="property-card" data-id="${property.id}">
          <div class="property-image">
            <img src="${mainImg}" alt="${property.title}" loading="lazy">
          </div>
          <div class="property-content">
            <h3>${property.title}</h3>
            <p class="property-address"><i class="fas fa-map-marker-alt"></i> ${cleanAddress}</p>
            <p class="property-area"><i class="fas fa-ruler-combined"></i> Di·ªán t√≠ch: ${property.area || 'N/A'} m¬≤</p>
            <div class="property-price">${property.price || "Li√™n h·ªá"}</div>
            <div class="property-stats">
              <span class="stat-item" title="ƒê√°nh gi√°">
                <i class="fas fa-star"></i> ${rating > 0 ? rating.toFixed(1) : '0.0'}
              </span>
              <span class="stat-item" title="L∆∞·ª£t xem">
                <i class="fas fa-eye"></i> ${views}
              </span>
              <span class="stat-item" title="L∆∞·ª£t th√≠ch">
                <i class="fas fa-heart"></i> ${favorites}
              </span>
            </div>
          </div>
        </div>
      `;
    }).join('');
    
    propertiesContainer.innerHTML = html;
    
    // Add click handlers for property cards
    document.querySelectorAll('#most-star-properties .property-card').forEach(card => {
      card.addEventListener('click', function() {
        const propertyId = this.dataset.id;
        const property = mostStarData.find(p => p.id === propertyId);
        if (property) {
          // Open modal or navigate - similar to main properties
          openPropertyModal(property);
        }
      });
    });
    
    // Update arrow states after rendering
    setTimeout(updateArrowStates, 100);
  }
  
  // Update arrow states based on scroll position
  function updateArrowStates() {
    if (!propertiesContainer) return;
    
    const scrollLeft = propertiesContainer.scrollLeft;
    const scrollWidth = propertiesContainer.scrollWidth;
    const clientWidth = propertiesContainer.clientWidth;
    
    // Show/hide left arrow
    if (leftArrow) {
      if (scrollLeft <= 10) {
        leftArrow.classList.add('disabled');
      } else {
        leftArrow.classList.remove('disabled');
      }
    }
    
    // Show/hide right arrow
    if (rightArrow) {
      if (scrollLeft >= scrollWidth - clientWidth - 10) {
        rightArrow.classList.add('disabled');
      } else {
        rightArrow.classList.remove('disabled');
      }
    }
  }
  
  // Scroll handlers
  if (leftArrow) {
    leftArrow.addEventListener('click', () => {
      const card = propertiesContainer.querySelector('.property-card');
      const cardWidth = card ? card.offsetWidth + 15 : 295; // card width + gap
      const currentScroll = propertiesContainer.scrollLeft;
      const targetScroll = Math.max(0, currentScroll - cardWidth * 4); // Scroll 4 cards left
      propertiesContainer.scrollTo({
        left: targetScroll,
        behavior: 'smooth'
      });
    });
  }
  
  if (rightArrow) {
    rightArrow.addEventListener('click', () => {
      const card = propertiesContainer.querySelector('.property-card');
      const cardWidth = card ? card.offsetWidth + 15 : 295; // card width + gap
      const currentScroll = propertiesContainer.scrollLeft;
      const maxScroll = propertiesContainer.scrollWidth - propertiesContainer.clientWidth;
      const targetScroll = Math.min(maxScroll, currentScroll + cardWidth * 4); // Scroll 4 cards right
      propertiesContainer.scrollTo({
        left: targetScroll,
        behavior: 'smooth'
      });
    });
  }
  
  // Update arrows on scroll
  if (propertiesContainer) {
    propertiesContainer.addEventListener('scroll', updateArrowStates);
    
    // Update on window resize
    window.addEventListener('resize', updateArrowStates);
  }
  
  // Nav item click handlers
  navItems.forEach(item => {
    item.addEventListener('click', function() {
      // Remove active class from all
      navItems.forEach(nav => nav.classList.remove('active'));
      // Add active to clicked
      this.classList.add('active');
      
      const sortBy = this.dataset.sort;
      renderProperties(sortBy);
    });
  });
})();
</script>

<!-- Property Slider Script -->
<script>
(function(){
  const sliderContainer = document.getElementById('property-slider');
  let currentIndex = 0;
  let autoSlideInterval;
  let properties = [];
  
  // Load properties and create carousel
  Promise.all([
    fetch('data.json').then(res => res.json()),
    fetch('backend/favorites.json').then(res => res.json()),
    fetch('backend/ratings.json').then(res => res.json())
  ])
  .then(([propertiesData, favoritesData, ratingsData]) => {
    // Process favorites data
    const favoritesCount = {};
    Object.values(favoritesData).forEach(userFavorites => {
      userFavorites.forEach(propertyId => {
        favoritesCount[propertyId] = (favoritesCount[propertyId] || 0) + 1;
      });
    });
    
    // Process ratings data
    const ratingsAvg = {};
    Object.entries(ratingsData).forEach(([propertyId, ratings]) => {
      if (ratings.length > 0) {
        const sum = ratings.reduce((acc, rating) => acc + rating.rating, 0);
        ratingsAvg[propertyId] = sum / ratings.length;
      }
    });
    
    // Merge data
    properties = propertiesData.map(property => ({
      ...property,
      favorites: favoritesCount[property.id] || 0,
      rating: ratingsAvg[property.id] || 0
    }));
    
    // Sort by favorites + rating + views
    properties.sort((a, b) => {
      const scoreA = (a.favorites || 0) + (a.rating || 0) + (a.views || 0) / 100;
      const scoreB = (b.favorites || 0) + (b.rating || 0) + (b.views || 0) / 100;
      return scoreB - scoreA;
    });
    
    // Take top 10 properties for carousel
    properties = properties.slice(0, 10);
    
    // Create carousel cards and dots
    createCarousel();
    
    // Start auto-slide
    startAutoSlide();
  })
  .catch(error => {
    console.error('Error loading slider data:', error);
    // Fallback with sample data
    properties = [
      {
        id: 'sample1',
        title: 'Ph√≤ng tr·ªç m·∫´u 1',
        area: 25,
        img: ['images/test_des.txt']
      },
      {
        id: 'sample2', 
        title: 'Ph√≤ng tr·ªç m·∫´u 2',
        area: 30,
        img: ['images/test_des.txt']
      },
      {
        id: 'sample3',
        title: 'Ph√≤ng tr·ªç m·∫´u 3',
        area: 35,
        img: ['images/test_des.txt']
      }
    ];
    
    createCarousel();
    startAutoSlide();
  });
  
  function createCarousel() {
    // Create cards
    const cardsHTML = properties.map((property, index) => {
      const mainImg = Array.isArray(property.img) ? property.img[0] : property.img;
      const title = property.title || 'Ch∆∞a c√≥ ti√™u ƒë·ªÅ';
      const area = property.area || 'N/A';
      
      return `
        <div class="slider-card ${index === 0 ? 'active' : ''}" data-id="${property.id}" data-index="${index}" onclick="openPropertyModal(${JSON.stringify(property).replace(/"/g, '&quot;')})">
          <div class="slider-image" style="background-image: url('${mainImg}')"></div>
          <div class="slider-overlay">
            <div class="slider-title">${title}</div>
            <div class="slider-area">Di·ªán t√≠ch: ${area} m¬≤</div>
          </div>
        </div>
      `;
    }).join('');
    
    // Create dots
    const dotsHTML = `
      <div class="slider-dots">
        ${properties.map((_, index) => `<div class="slider-dot ${index === 0 ? 'active' : ''}" data-index="${index}"></div>`).join('')}
      </div>
    `;
    
    sliderContainer.innerHTML = cardsHTML + dotsHTML;
    
    // Add dot click handlers
    document.querySelectorAll('.slider-dot').forEach(dot => {
      dot.addEventListener('click', function() {
        const index = parseInt(this.dataset.index);
        goToSlide(index);
      });
    });
    
    // Pause auto-slide on hover
    sliderContainer.addEventListener('mouseenter', stopAutoSlide);
    sliderContainer.addEventListener('mouseleave', startAutoSlide);
  }
  
  function goToSlide(index) {
    if (index === currentIndex) return;
    
    const cards = document.querySelectorAll('.slider-card');
    const dots = document.querySelectorAll('.slider-dot');
    
    // Remove active classes
    cards.forEach(card => card.classList.remove('active', 'prev', 'next'));
    dots.forEach(dot => dot.classList.remove('active'));
    
    // Set new active slide
    cards[index].classList.add('active');
    dots[index].classList.add('active');
    
    // Set prev/next classes for smooth transition
    const prevIndex = index === 0 ? properties.length - 1 : index - 1;
    const nextIndex = index === properties.length - 1 ? 0 : index + 1;
    
    cards[prevIndex].classList.add('prev');
    cards[nextIndex].classList.add('next');
    
    currentIndex = index;
  }
  
  function nextSlide() {
    const nextIndex = (currentIndex + 1) % properties.length;
    goToSlide(nextIndex);
  }
  
  function startAutoSlide() {
    autoSlideInterval = setInterval(nextSlide, 3000); // 3 seconds
  }
  
  function stopAutoSlide() {
    if (autoSlideInterval) {
      clearInterval(autoSlideInterval);
      autoSlideInterval = null;
    }
  }
})();
</script>